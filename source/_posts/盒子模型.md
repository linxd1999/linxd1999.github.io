---
title: 盒子模型
tags: CSS
---

### 一.盒子

- CSS处理网页时，认为每个元素都包含在一个不可见的盒子里
- 我们只要把相应的盒子摆放到网页中相应的位置即可完成对网页的布局
- 组成：
  - 内容区(content)
  - 内边距(padding)
  - 边框(border)
  - 外边距(margin)

### 二.边框

- width：内容区宽度
- height：内容区高度
- border-width：边框的宽度
  - 可以分别指定四个边框的宽度(顺时针赋值)
  - 如果指定四个值，则分别设置给上，右，下，左
  - 如果指定三个值，则分别设置给上，左右，下
  - 如果指定两个值，则分别设置给上下，左右
  - 如果指定一个值，则设置给四条边
  - CSS还提供border-xxx-width，xxx可为top，right，bottom，left
- border-color：边框的颜色，赋值规则同上
  - border-xxx-color：xxx可为top，right，bottom，left
- border-style：边框的样式，赋值规则同上
  - none：没有边框
  - solid：实线边框
  - dotted：点状边框
  - dashed：虚线边框
  - double：双线边框

- border：边框的简写样式，可同时设置四个边框的样式，且没有任何顺序要求，但是border只能一次性指定四条边，不能分别指定。
  - border-xxx：可以一次指定一条边的所有属性

### 三.内边距

- 内边距指的是盒子的内容区和盒子边框之间的距离，一共有四个方向的内边距
- 内边距会影响盒子的可见框的大小
- 盒子可见框的宽度=(border-left-width)+(padding-left)+width+(padding-right)+(border-right-width)
- padding-top：上内边距的宽度
- padding-right：右内边距的宽度
- padding-bottom：下内边距的宽度
- padding-left：左内边距的宽度
- padding可同时设置四个内边距的样式，原理同上
- box-sizing属性：border-box(设置的边框和内边距是包含在width内的，内容区的实际宽度=width-(border+padding)的值)

### 四.外边距

- 外边距指的是当前盒子与其他盒子之间的距离，不会影响可见框的大小，但会影响盒子的位置

- 盒子有四个方向的外边距

- margin-top：上外边距的宽度

- margin-right：右外边距的宽度

- margin-bottom：下外边距的宽度

- margin-left：左外边距的宽度

- margin可同时设置四个方向外边距的样式

- 由于页面中的元素都是靠左上摆放的，所以当设置上，左外边距时，会导致盒子自身的位置发生改变，设置右，下外边距会改变其他盒子的位置

- 外边距可以是负值，元素向反方向移动

- margin还可以设置auto，一般只设置给水平方向的margin，如果只指定左外边距或右外边距的值为auto则会将外边距设置为最大值；垂直方向如果设置为auto，则默认为0

  ```css
  /*盒子居中，两侧外边距设置为相同的值
  	可以使元素自动在父元素中居中*/
  margin-left: auto;
  margin-right: auto;
  ```

- 垂直外边距的重叠：在**垂直方向**的**相邻**外边距会发生重叠，兄弟元素之间的相邻外边距会取最大值而不是取和。如果父子元素的垂直外边距相邻了，则子元素的外边距会设置给父元素
- 浏览器为了在页面中没有样式时，也可以有一个比较好的显示效果，所以为很多元素都设置了默认的margin和padding，而默认样式在正常情况下是不需要的，所以我们需要在设置样式之前把默认样式都去掉

### 五.内联元素的盒模型

- 内联元素不能设置width和height
- 内联元素可以设置水平方向的内边距，边框
- 内联元素可以设置垂直方向的内边距，边框，但不会影响页面的布局
- 水平方向的相邻外边距不会重叠，但会求和，内联元素不支持垂直外边距
- 内联元素和块元素可以相互转换
  - display样式可修改元素的类型
    - inline：内联元素
    - block：块元素
    - inline-block：行内块元素(使一个元素既有行内元素的特点又有块元素的特点，可设置宽高而不独占一行)
    - none：此元素不显示，且不再占据页面的位置
  - visibility可修改元素的显示状态
    - visible：默认值，元素默认在页面显示
    - hidden：元素会隐藏不显示，但位置会继续保持
- overflow属性：设置父元素如何处理子元素溢出的问题
  - visible：默认值，不对溢出内容做处理，元素会在父元素以外的位置显示
  - hidden：溢出的内容被修剪，不显示
  - scroll：会为父元素添加滚动条，通过滚动来查看完整的内容(不论是否溢出，都有水平和垂直的滚动条)
  - auto：会根据需求自动添加滚动条

### 六.浮动

- 块元素在文档流中默认垂直排列，如果希望块元素可以脱离文档流，可以用float使块元素浮动从而脱离文档流

- float：浮动元素，脱离文档流
  - none：默认值，元素默认在文档流中排列
  - left：元素会立即脱离文档流，向页面的左侧浮动
  - right：元素会立即脱离文档流，向页面的右侧浮动
  
- 元素浮动之后，它下边的元素会立即向上移动

- 元素浮动以后，它会尽量向页面的左上或是右上浮动，直到遇到父元素的边框或者其他的浮动元素

- 如果浮动元素上边是一个没有浮动的块元素，则浮动元素不会超过块元素

- 浮动元素不会超过它的兄弟元素，最多一边齐

- 块元素脱离文档流后，高度和宽度都会被内容撑开

- 内联元素脱离文档流后会变成块元素

- 文档流中，父元素的高度默认被子元素撑开。但子元素浮动后，会导致父元素高度塌陷，父元素下的所有元素都向上移动，页面布局混乱

  - 可以将父元素的高度固定，父元素的高度将不能自适应子元素的高度，不推荐使用

  - 设置overflow：(非visible的值)

  - 在高度塌陷的父元素最后添加一个空白的div，由于此div没有浮动，所以可以撑开父元素，然后对它清除左右浮动即可(基本无副作用)

  - 基于上一条，可以通过after伪类，选中父元素的最后边，转化为块元素，再清除浮动

    ```css
    .box1:after{
        content: "";
        display: block;
        clear: both;
    }
    ```

    

- clear：清除浮动

  - none：默认值，不清除浮动
  - left：清除左侧浮动元素对当前元素的影响
  - right：清除右侧浮动元素对当前元素的影响
  - both：清除左右浮动元素中对当前元素影响最大的

### 七.定位

- 定位是将指定的元素摆放到页面的任意位置，通过定位可以任意的摆放元素

- position属性：设置元素的定位
  - static：默认值，元素没有开启定位
  
  - relative：开启元素的相对定位
  
  - absolute：开启元素的绝对定位
  
  - fixed：开启元素的固定定位(绝对定位的一种)

#### 1.相对定位

- position设置成relative时，则开启了元素的相对定位，元素不会脱离文档流，但会使元素提高一个层级，不会改变元素的性质，块还是块，内联还是内联


- 开启相对定位但不设置偏移量时，元素不会发生任何变化
- 可以通过left，right，top，bottom四个属性来设置元素的偏移量
- left：元素相对于原定位位置的左侧偏移量
- right：元素相对于原定位位置的右侧偏移量
- top：元素相对于原定位位置的上侧偏移量
- bottom：元素相对于原定位位置的下侧偏移量
- 通常偏移量只需要使用两个就可以对一个元素进行定位，一般选择水平方向的一个偏移量和垂直方向的偏移量来为一个元素进行定位

#### 2.绝对定位

- positon设置成absolute时，开启元素的绝对定位，元素会脱离文档流


- 开启绝对定位但不设置偏移量时，元素位置不变
- 绝对定位是相对于离他最近的开启了定位的祖先元素进行定位，如果所有的祖先元素都没有开启定位，则相对于浏览器窗口进行定位(一般情况下，开启了子元素的绝对定位都会同时开启父元素的相对定位)
- 绝对定位会使元素提升一个层级
- 绝对定位会改变元素的性质，内联元素变成块元素

#### 3.固定定位

- position设置为fixed时，开启元素的固定定位

- 固定定位也是一种绝对定位，大部分特点和绝对定位一样，但有一些不同
  - 固定定位永远相对于浏览器窗口进行定位
  - 固定定位会固定在浏览器窗口的某个位置，不会随滚动条滚动(牛皮癣广告)
- IE6不支持固定定位

#### 4.元素层级

- 如果定位元素的层级一样，则下边的元素会盖住上边的
- 通过z-index属性可设置元素的层级(数字越大，层级越大，越优先显示)
- 对于没有开启定位的元素不能使用z-index属性

#### 5.透明背景

- opacity属性：设置背景的透明度，值为0-1
  - 0表示完全透明
  - 0.5表示半透明
  - 1表示完全不透明
- opacity在IE8以下的浏览器不支持，需要用alpha(opacity=透明度)代替
  - 需要一个0-100之间的值
  - 0表示完全透明
  - 100表示完全不透明
  - 50表示半透明

### 八.背景

- background-image：设置背景图片
  - 语法：background-image：url("相对路径")
  - 如果背景图片大于元素，默认会显示图片的左上角
  - 如果背景图片和元素一样大，则会将背景图片全部显示
  - 如果背景图片小于元素，则平铺图片充满元素
  - 一般设置背景图片时都会同时指定一个背景颜色
- background-repeat：设置背景图片的重复方式
  - repeat：默认值，背景图片平铺
  - no-repeat：背景图片不会重复
  - repeat-x：背景图片沿水平方向重复
  - repeat-y：背景图片沿竖直方向重复
- background-position：背景图片默认贴着左上角，这个属性可以调整图片在元素中的位置
  - 该属性可以使用top，left，right，bottom，center中的两个值来指定位置
  - top left：左上，默认
  - bottom right：右下
  - 缺省值会被指定为center
  - 也可以指定两个偏移量：xpos，ypos，正数向右(下)移动，负数向左(上)移动
- background-attachment：设置图片是否随页面一起滚动
  - scroll：默认值，背景图片会随着窗口滚动
  - fixed：背景图片会固定在某一个位置，不随页面滚动，一般都是设置body中的大图片；设置在块元素中的图片也不会随页面滚动，但是块元素会随着页面滚动，所以会出现擦黑板一样的效果(背景图片的定位永远相对于浏览器的窗口)，所以不随窗口滚动的图片一般设置给body，而不设置给其他元素。

### 九.CSS-sprite

- 用不同图片表示一个按钮的不同状态时，第一次切换图片时，会发现有个非常快的闪烁，会造成一次不良的用户体验
- 产生原因：背景图片是以外部资源的形式加载进网页的，浏览器每加载一个外部资源就需要单独发送一次http请求；外部资源并不是同时加载，浏览器会在资源被使用的时候才去加载外部资源，由于加载图片需要一定的时间，所以在加载和显示的过程中有一段时间，背景图片无法显示，所以才会出现闪烁的情况
- 解决方法：可以将多张图片整合为一张图片，这样可以几张图片一起加载，就不会产生闪烁的问题了；然后通过background-position来切换要显示的图片位置，这种技术叫做图片整合技术(CSS-sprite，精灵图，雪碧图)
- 优点
  - 浏览器只要发送一次加载请求就可以同时加载多个图片，提高请求的速度，增加用户体验
  - 多张图片整合成一张，减少图片的总大小，提高请求的速度